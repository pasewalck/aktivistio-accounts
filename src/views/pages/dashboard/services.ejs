<%- include("../../partials/dashboard-header.ejs") %>

<div class="wrapper flex-container">

    <% const canManage = hasPermission(account.role,Permission.MANAGE_SERVICES) %> 

    <div class="container container-large-width">

        <div class="grid-container">
            <% clients.forEach(client => { %>
                <% if (client.client_name || client.client_id) { %>
                    <div class="container-filled-background">
                        <h2><%= client.client_name || client.client_id %></h2>
                        <% if (client.initiate_login_uri) { %>
                            <a href="<%= client.initiate_login_uri %> "><%= __("service.login") %> </a>
                        <% } %>
                        <% if (client.client_uri) { %>
                            <a href="<%= client.client_uri %> "><%= __("service.go_to") %> </a>
                        <% } %>
        
                        <% if (canManage) { %>
                            <a href="<%= urlUtils.extendUrl(baseUrl, `services`,`edit`,`${client.client_id}`).href %>"><%= __("service.manage") %></a>                        <% } %>
                    </div>
                <% } %>
             
            <% }) %>
            <div class="container-soft-filled-background"></div>
            <div class="container-soft-filled-background"></div>
            <div class="container-soft-filled-background"></div>
        </div>
        
    </div>

    <% if (canManage) { %>
        <div class="container container-large-width">

            <a href="<%= urlUtils.extendUrl(baseUrl, 'services/add').href %>" class="button"><%= __("service.add") %></a>

        </div>
    <% } %>

</div>
